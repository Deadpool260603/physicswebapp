
# Physics Web App

### Video Demo: <https://youtu.be/admWQo1_eGU>

---

### Description

This Flask-based web application allows users to input single-variable mathematical functions (like `x^2`, `sin(x)`, etc.) and generates animated video plots using **Manim** and **NumPy**. Users can sign up, log in and then enter a function with custom x and y axes limits, and view the output as a playable video.

---

### Uses

- Python 3
- Flask
- SQLite (via `sqlite3`)
- HTML5, CSS3
- Manim (Python library for generating animated videos)
- NumPy
- Werkzeug (for password hashing)

---

### Project Structure

```
Physicswebapp/
│
├── app.py                # Main Flask app with routing and backend logic
├── manim1.py             # Auto-generated python file using Manim to create an animated video of plotting input functions
├── database.db           # SQLite database file storing registered users
│
├── /templates/           # HTML templates
│   ├── index.html
│   ├── login.html
│   ├── signup.html
│   └── result.html
│
├── /static/              # Stores CSS file and output video
│   ├── style.css
│   └── user_plot.mp4     # Output video copeid from "media/videos/manim1/480p15/UserFunctionPlot.mp4" for rendering on result.html page.
│
└── /media/               # Auto-generated when running manim1.py in the backend
    └── videos/
        └── manim1/
            └── 480p15/
                └── UserFunctionPlot.mp4     # Video generated by running manim.py
```

---

### File Descriptions

---

#### `app.py`

This is the **main backend script** that powers the web application. It:

- Initializes the SQLite `database.db` to store usernames and hashed passwords.
- Handles routing for:
  - `/login`: User `login.html` page
  - `/signup`: New user registration on `signup.html` page
  - `/logout`: Session clear and redirect to `login.html` page
  - `/`: Main dashboard (`index.html`)
  - `/generate`: Processes the user’s function, generates Manim code, runs it, and renders output video
- Converts user input (e.g., `x^2`) to a valid LaTeX representation using `convert_to_latex()`.
- Preprocesses the function with `generate_manim_code()` to make it NumPy-compatible and safe for eval.
- Generates a Manim script (`manim1.py`) dynamically based on user input.
- Executes Manim to render `UserFunctionPlot.mp4`, then copies it to the `/static` folder and named it as `user_plot.mp4` for playback.

---

#### `manim1.py` *(auto-generated)*

A Python script built dynamically by `app.py` to render the user’s input function. It contains:

- A class `UserFunctionPlot(Scene)` using Manim to:
  - Create X/Y axes using specified limits
  - Render a LaTeX label for the input function
  - Plot the graph using NumPy and Manim's `axes.plot()` method
  - Handle and display errors (e.g., invalid input) as a red warning in the output video

---

#### `database.db`

The SQLite database file used to persist registered user data.

- Contains a table `users` with:
  - `id`: auto-increment primary key
  - `username`: unique identifier
  - `password`: hashed via `generate_password_hash()` from werkzeug.security 

---

### templates/

### `login.html`
Contains user login in form that includes username and password, and a signup button that redirects to `signup.html` page.
Upon successful login, the user will be redirected to `/` which is `index.html` page once the user click on login button 
that will execute a command to check the database for the username and check password hash by using a function called
`check_password_hash`. If user enters any incorrect information then it will show a flash message saying **"Invalid username or password"**.

### `signup.html`
Contains form that includes username and password with a signup button that will redirect the user to Login page on successful
signup by first checking if the username is not already in use that is stored in the database within the user table. If username is 
already in user than a flash message will be displayed that says "Username already in use". Upon successful signup the username and 
password hash will be inserted in the user table and the user will get redirected to `login.html` page that will show a flash message 
saying **"Account created successfully 👍"**.

### `index.html`
This page contains the main interface that will ask the user for entering a single variable function like `x^2` or `x**2`
with maximum and minimum limits for x and y axes. After entering all the details for the function user needs to click on 
Generate video button to start rendering the video and the user then will be redirected to `result.html` page. This page also 
contains a logout button that will clear the session and redirects the user to `login.html` page.

### `result.html`
Displays the animated graph video (copied to `static/user_plot.mp4` from `media/videos/manim1/480p15/UserFunctionPlot.mp4`). 
Also contains the Back to Home button that redirects the user to `/` which is `index.html` page.

---

### `static/style.css`

Defines the style across all pages:
- All content within the body tag is centered.
- Blue gradient background
- White text for better contrast
- Hover effects on buttons
- Rounded corners on input textboxes and video container

---

